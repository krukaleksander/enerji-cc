extends layout

block content  
  a(href="/panel" class='back-to-panel') CRM  
    i(class="fas fa-door-open")
  form(method='post')
    button(type='submit' class='logout-btn') Wyloguj  
  div(class='wrapper')
    h3 Ofertomat v. 5.1.0       
    p(class="alert alert-success wrapper__title") Dodany rok 2024 oraz 2025. 
    include parts/knowHow
    button(class="btn btn-dark show-price-change") Edycja cen 
    div
      button(class="btn btn-info show-calc-wear") Przelicz zużycie  
        i(class="fas fa-fingerprint")    
    .calc-wear
      div(class="calc-wear__hide")
        i(class="fas fa-minus-circle")
      p(class="calc-wear__par") Podaj dane wprost z faktury (w kWh), program poda Ci zużycie roczne w mWh. Bazowo  program zakłada fakturę za 30 dni. Jeżeli jest inna - 
        strong skoryguj!
      div
        label Faktura za dni:
        input(class="calc-wear__input calc-wear__input--days" value=30)
      div
        label I strefa:
        input(class="calc-wear__input calc-wear__input--first-sphere" value=0)
      div
        label II strefa:
        input(class="calc-wear__input calc-wear__input--second-sphere" value=0)
      button(class="btn btn-info calc-wear__btn") Przelicz            
      p(class="calc-wear__score")
      button(class="btn btn-success calc-wear__btn--import") Eksport do zużyć       
        i(class="fas fa-file-import")        
      p(class="alert alert-warning calc-wear__info") Możesz teraz eksportować zużycia wprost do kalkulatora!
    div
      label(for='product') Wybierz produkt
      select(id='product' class="note-remover")
        option(value=`${data[0].name}`)=data[0].name
        option(value=`${data[1].name}`)=data[1].name
        option(value=`${data[2].name}`)=data[2].name
        option(value=`${data[3].name}`)=data[3].name
    div
      label(for="tariff") Grupa taryfowa:  
      select(id="tariff" class="note-remover")
        option(value="C11") C11
        option(value="C12a") C12a
        option(value="C12b") C12b                       
        option(value="C21") C21                       
        option(value="C22a") C22a                      
        option(value="C22b") C22b 
        option(value="C23") C23                            
        option(value="B21") B21                       
        option(value="B22") B22                       
        option(value="B23") B23                       
        option(value="G11") G11                       
        option(value="G12") G12                      
    div
      label(for="endOfAgreement") Koniec umowy bieżącej: 31.
      select(id='endOfAgreementMonth')
        option(class="oprion-12" value=12) Styczeń 
        option(class="oprion-11" value=11) Luty 
        option(class="oprion-10" value=10) Marzec 
        option(class="oprion-9" value=9) Kwiecień 
        option(class="oprion-8" value=8) Maj 
        option(class="oprion-7" value=7) Czerwiec 
        option(class="oprion-6" value=6) Lipiec 
        option(class="oprion-5" value=5) Sierpień 
        option(class="oprion-4" value=4) Wrzesień 
        option(class="oprion-3" value=3) Październik 
        option(class="oprion-2" value=2) Listopad 
        option(class="oprion-1" value=1) Grudzień 
      select(id="endOfAgreement")
        option(class="option-2022" value=2025) 2025
        option(class="option-2022" value=2024) 2024
        option(class="option-2022" value=2023) 2023
        option(class="option-2022" value=2022) 2022
        option(class="option-2021" value=2021) 2021                
    div
      label(for="endOfNewAgreement") Nowa umowa do: 31.12. 
      select(id="endOfNewAgreement")
        option(class="option-2022" value=2026) 2026
        option(class="option-2022" value=2025) 2025
        option(class="option-2022" value=2024) 2024
        option(class="option-2022" value=2023) 2023
        option(class="option-2022" value=2022) 2022
        option(class="option-2021" value=2021) 2021           
    div
      label(for="tradeFee" class="label-for-trade-fee") Opłata handlowa aktualna
      input(id="tradeFee" class="set-to-zero" type="text" value=0)
    div
      label(for="tradeFeeOur" class="label-for-trade-fee-our") Nasza opłata e-faktura
      input(id="tradeFeeOur" class="set-to-zero" type="text" value=0)
    include parts/c11   
    include parts/c12a
    include parts/c12b
    include parts/c21   
    include parts/c22a   
    include parts/c22b 
    include parts/c23 
    include parts/b11  
    include parts/b21   
    include parts/b22   
    include parts/b23   
    include parts/g11   
    include parts/g12   
    include parts/g12w   
    .have-prices-c11 
       div
        label(for="priceNow") Cena aktualna klienta: 
        input(id="priceNow" class="note-remover" type="text" placeholder="np. 382" value=0)
    div(class="intakec11c21")
      label(for="wear") Zużycie [ROCZNE!] MWh: 
      input(id="wear" class="note-remover" type="text" placeholder="np. 18.3" value=0)      
    div(class="havePricesc12ac12b")
      p(class="tariff-wrapper-title") Klient ma cenę:
      .have-prices-divs-wrapper
        div
          label(for="havePriceFirst") I strefa: 
          input(id="havePriceFirst" class="set-to-zero" type="text" value=0)
        div
          label(for="havePriceSecond") II strefa: 
          input(id="havePriceSecond" class="set-to-zero" type="text" value=0)       
    div(class="intakec12ac12b")
      p(class="tariff-wrapper-title") Zużycie:
      .intake-divs-wrapper   
        div
          label(for="wearFirst") I strefa: 
          input(id="wearFirst" class="note-remover set-to-zero" type="text" placeholder="np. 7.3" value=0)
        div
          label(for="wearSecond") II strefa: 
          input(id="wearSecond" class="note-remover set-to-zero" type="text" placeholder="np. 18.3" value=0)
        div
          label(for="wearSum") Suma: 
          input(id="wearSum" class="note-remover set-to-zero" type="text" placeholder="wyliczę")
    div(class="havePricesc23b23")
      p(class="tariff-wrapper-title") Klient ma cenę:
      .have-prices-divs-wrapper  
        div
          label(for="havePriceFirstThree") I strefa: 
          input(id="havePriceFirstThree" class="set-to-zero" type="text" value=0)
        div
          label(for="havePriceSecondThree") II strefa: 
          input(id="havePriceSecondThree" class="set-to-zero" type="text" value=0)
        div
          label(for="havePriceThirdThree") III strefa: 
          input(id="havePriceThirdThree" class="set-to-zero" type="text" value=0)
    div(class="intakec23b23")
      p(class="tariff-wrapper-title") Zużycie:
      .intake-divs-wrapper   
        div
          label(for="wearFirstThreeSpheres") I strefa: 
          input(id="wearFirstThreeSpheres" class="note-remover set-to-zero" type="text" placeholder="np. 7.3" value=0)
        div
          label(for="wearSecondThreeSpheres") II strefa: 
          input(id="wearSecondThreeSpheres" class="note-remover set-to-zero" type="text" placeholder="np. 18.3" value=0)
        div
          label(for="wearThirdThreeSpheres") III strefa: 
          input(id="wearThirdThreeSpheres" class="note-remover set-to-zero" type="text" placeholder="np. 20.5" value=0)
        div
          label(for="wearSumThreeSpheres") Suma: 
          input(id="wearSumThreeSpheres" class="note-remover set-to-zero" type="text" placeholder="wyliczę")      
    div(class="propositionc11c21")
      label(for="proposePrice") Twoja propozycja: 
      input(id="proposePrice" class="note-remover" type="text" placeholder="380" value=0)
    .propositionc12ac12b
      p(class="tariff-wrapper-title") Twoja propozycja:
      .wrapPropositionsC12x
        div
          label(for="proposePriceFirst") I strefa
          input(type="text" class="note-remover set-to-zero" id="proposePriceFirst" value=0)
        div
          label(for="proposePriceSecond") II strefa
          input(type="text" class="note-remover set-to-zero" id="proposePriceSecond" value=0)
    .propositionc23b23
      p(class="tariff-wrapper-title") Twoja propozycja:
      .wrapPropositionsC23B23
        div
          label(for="proposePriceFirstThreeSpheres") I strefa
          input(type="text" class="note-remover set-to-zero" id="proposePriceFirstThreeSpheres" value=0)
        div
          label(for="proposePriceSecondThreeSpheres") II strefa
          input(type="text" class="note-remover set-to-zero" id="proposePriceSecondThreeSpheres" value=0)
        div
          label(for="proposePriceThirdThreeSpheres") III strefa
          input(type="text" class="note-remover set-to-zero" id="proposePriceThirdThreeSpheres" value=0)      
      .wrap-new-calc
      button(class="btn btn-danger" id="clearInputsBtn") Nowe wyliczenie 
    div(class="btn-wrapper")  
      button(id="btnCalc" class="btn btn-success") Przelicz      
    p(class="note") Notatka:     
    p(id="summaryCalc")
    div
      button(id="activeCalcSavings" class="btn btn-success") Oszczędności  
      button(class='btn btn-danger btn-reduce-mass') Obniżenie OH
    div(class='reduce-mass-warning')
      p(class='alert alert-danger') Pamiętaj, że obniżenie opłaty handlowej obniży równiez Twoją masę marży!
      button(class='btn btn-success reduce-mass-warning__btn') Ok  
    div(class='reduce-mass')
      div(class='reduce-mass__close')      
      label(for="reduceAmmount") Do jakiej kwoty obniżyć: 
      input(type="text" id='reduceAmmount' value='0')  
      p(class='reduce-mass__summary')
      button(class='btn btn-info reduce-mass__btn') Oblicz
    //- .change-price-panel          
    //-   p(class="alert alert-danger") Pamiętaj, że zmiany są widoczne po odświeżeniu strony!
    //-   .easy-prices
    //-     h3(class='easy-prices__title') Szybkie wgrywanie cen BETA
    //-     select(class='easy-prices__select-sphere')
    //-       option(value="one") Jednostrfowa
    //-       option(value="two") Dwustrefowa
    //-     select(class='easy-prices__select-tariff')
    //-       option(value="c11") C11
    //-       option(value="c12a") C12a
    //-       option(value="c12b") C12b
    //-       option(value="c21") C21
    //-       option(value="c22a") C22a
    //-       option(value="c22b") C22b
    //-       option(value="b11") B11
    //-       option(value="b21") B21
    //-       option(value="b22") B22
    //-       option(value="g11") G11
    //-       option(value="g12") G12
    //-       option(value="g12w") G12w
    //-     input(type="text" class="easy-prices__input")
    //-     button(class="easy-prices__btn btn btn-info") Wgraj ceny
    //-   form(action="panel/change-price/" method="post")
    //-    include parts/changec11.pug
    //-    include parts/changec12a.pug
    //-    include parts/changec12b.pug       
    //-    include parts/changec21.pug       
    //-    include parts/changec22a.pug       
    //-    include parts/changec22b.pug 
    //-    include parts/changeb11.pug      
    //-    include parts/changecb21.pug       
    //-    include parts/changeb22.pug       
    //-    include parts/changeg11.pug       
    //-    include parts/changeg12.pug       
    //-    include parts/changeg12w.pug       
    //-    div
    //-     input(id="changePriceBtn" class='btn btn-info' type="submit" value="OK")
    //-    div(class="change-price-close")
    //-      img(src="./images/close_cross.png", alt="") 
  //- Start
  script(src="/javascripts/energaCalc.js")    
  script(src="/javascripts/smallparts/changepricepanel.js")
  script(src="/javascripts/smallparts/changetariffs.js")  
  script(src="/javascripts/smallparts/setToZero.js")
  script(src="/javascripts/tariffEngine.js") 
  //- End 
  //- script(src="/javascripts/babbleTest.js")
  script(src="/javascripts/smallparts/easyPrices.js") 
  script(src="/javascripts/smallparts/knowHow.js")
  //- Start
  script(src="/javascripts/smallparts/calcSavings.js")
  script(src="/javascripts/smallparts/calcWear.js")
  //- end
  script(src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous")
